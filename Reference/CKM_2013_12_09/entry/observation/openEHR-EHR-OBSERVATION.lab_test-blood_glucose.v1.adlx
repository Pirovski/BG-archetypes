archetype (adl_version=1.5; generated)
	openEHR-EHR-OBSERVATION.lab_test-blood_glucose.v1.0.0

specialize
	openEHR-EHR-OBSERVATION.lab_test.v1.0.0

language
	original_language = <[ISO_639-1::en]>

description
	original_author = <
		["name"] = <"Dr Ian McNicoll">
		["organisation"] = <"Ocean Informatics, United Kingdom">
		["email"] = <"ian.mcnicoll@oceaninformatics.com">
		["date"] = <"27/01/2009">
	>
	details = <
		["en"] = <
			language = <[ISO_639-1::en]>
			purpose = <"Recording blood glucose measurements with a full history and state model to allow the patient state to be recorded.


">
			use = <"For BSL measurements, GTTs and following other challenges.">
			keywords = <"lab", "pathology", "biochemistry", "laboratory", "GTT", "glucose tolerance", "BSL", "blood sugar">
			misuse = <"">
			copyright = <"© openEHR Foundation">
		>
	>
	lifecycle_state = <"initial">
	other_contributors = <"Heather Leslie AEG / Ocean Infomatics", "Sam Heard Ocean Informatics">
	other_details = <
		["references"] = <"">
		["MD5-CAM-1.0.1"] = <"52C1B996A12C2F159FF839326341D9B4">
	>

definition
	OBSERVATION[at0000.1] matches {	-- Blood glucose
		/data[at0001]/events matches {
			EVENT[at0002] occurrences matches {0..1} matches {
				data matches {
					ITEM_TREE[at0003] matches {
						items matches {
							ELEMENT[at0078.2] occurrences matches {0..1} matches {	-- Blood glucose
								value matches {
									DV_QUANTITY[id0.581] matches {
										property matches {[openehr::119]}
										[magnitude, units] matches {
											[{|>=0.0|}, {"mmol/l"}],
											[{0.0}, {"mg/dl"}]
										}
									}
								}
							}
						}
					}
				}
				state matches {
					ITEM_TREE[at0.89] matches {	-- Tree
						items matches {
							CLUSTER[at0.90] occurrences matches {0..1} matches {	-- Diet
								items matches {
									ELEMENT[at0.91] occurrences matches {0..1} matches {	-- Intake
										value matches {
											DV_CODED_TEXT[id0.21] matches {
												defining_code matches {
													[local::
													at0.92, 	-- Fasting
													at0.93, 	-- Post-prandial
													at0.94, 	-- Pre-prandial
													at0.95; 	-- Random
													at0.95]	-- Assumed
												}
											}
										}
									}
									ELEMENT[at0.96] occurrences matches {0..1} matches {	-- Duration
										value matches {
											DV_DURATION[id0.22] matches {
												value matches {PDTHMS/}
											}
										}
									}
									ELEMENT[at0.97] occurrences matches {0..1} matches {	-- Description
										value matches {
											DV_TEXT[id0.421] 
										}
									}
								}
							}
							CLUSTER[at0.98] occurrences matches {0..1} matches {	-- Glucose challenge
								items matches {
									ELEMENT[at0.100] occurrences matches {0..1} matches {	-- Dose
										value matches {
											DV_QUANTITY[id0.325] matches {
												property matches {[openehr::124]}
												magnitude matches {|>=0.0|}
												units matches {"gm"}
											}
										}
									}
									ELEMENT[at0.101] occurrences matches {0..1} matches {	-- Route
										value matches {
											DV_CODED_TEXT[id0.725] matches {
												defining_code matches {
													[local::
													at0.105, 	-- Oral
													at0.106; 	-- Intravenous
													at0.105]	-- Assumed
												}
											}
										}
									}
									ELEMENT[at0.99] occurrences matches {0..1} matches {	-- Timing
										value matches {
											DV_CODED_TEXT[id0.773] matches {
												defining_code matches {
													[local::
													at0.103, 	-- Pre-challenge
													at0.104; 	-- Post-challenge
													at0.104]	-- Assumed
												}
											}
										}
									}
									use_node ELEMENT[at0.96] occurrences matches {0..1} /data[at0001]/events[at0002]/state[at0.89]/items[at0.90]/items[at0.96]	-- /data[at0001]/events[at0002]/state[Tree]/items[Diet]/items[Duration]
								}
							}
							CLUSTER[at0.107] occurrences matches {0..1} matches {	-- Insulin challenge
								items matches {
									ELEMENT[at0.110] occurrences matches {0..1} matches {	-- Dose
										value matches {
											DV_QUANTITY[id0.557] matches {
												property matches {[openehr::445]}
												magnitude matches {|>=0.0|}
												units matches {"U"}
											}
										}
									}
									ELEMENT[at0.111] occurrences matches {0..1} matches {	-- Route
										value matches {
											DV_CODED_TEXT[id0.957] matches {
												defining_code matches {
													[local::
													at0.112, 	-- Intravenous
													at0.113; 	-- Subcutaneous
													at0.113]	-- Assumed
												}
											}
										}
									}
									use_node ELEMENT[at0.99] occurrences matches {0..1} /data[at0001]/events[at0002]/state[at0.89]/items[at0.98]/items[at0.99]	-- /data[at0001]/events[at0002]/state[Tree]/items[Glucose challenge]/items[Timing]
									use_node ELEMENT[at0.96] occurrences matches {0..1} /data[at0001]/events[at0002]/state[at0.89]/items[at0.90]/items[at0.96]	-- /data[at0001]/events[at0002]/state[Tree]/items[Diet]/items[Duration]
								}
							}
							CLUSTER[at0.108] occurrences matches {0..1} matches {	-- Event
								items matches {
									ELEMENT[at0.109] occurrences matches {0..1} matches {	-- Event name
										value matches {
											DV_TEXT[id0.301] 
										}
									}
									use_node ELEMENT[at0.99] occurrences matches {0..1} /data[at0001]/events[at0002]/state[at0.89]/items[at0.98]/items[at0.99]	-- /data[at0001]/events[at0002]/state[Tree]/items[Glucose challenge]/items[Timing]
									use_node ELEMENT[at0.96] occurrences matches {0..1} /data[at0001]/events[at0002]/state[at0.89]/items[at0.90]/items[at0.96]	-- /data[at0001]/events[at0002]/state[Tree]/items[Diet]/items[Duration]
								}
							}
						}
					}
				}
			}
		}
		/protocol[at0004]/items matches {
			before [at0075]
			CLUSTER[at0013] occurrences matches {0..1} matches {
				items matches {
					ELEMENT[at0062] occurrences matches {0..1} matches {
						value matches {
							DV_TEXT[id0.821] 
						}
					}
					ELEMENT[at0063] occurrences matches {0..1} matches {
						value matches {
							DV_TEXT[id0.221] 
						}
					}
					ELEMENT[at0068] occurrences matches {0..1} matches {
						value matches {
							DV_TEXT[id0.222] 
						}
					}
					allow_archetype CLUSTER[at0017] occurrences matches {0..*} matches {
						include
							archetype_id/value matches {/openEHR-EHR-CLUSTER\.organisation\.v1/}
					}
				}
			}
		}
	}

ontology
	term_definitions = <
		["en"] = <
			["at0.100"] = <
				text = <"Dose">
				description = <"Dose of glucose.">
			>
			["at0.101"] = <
				text = <"Route">
				description = <"The route of administration of the glucose challenge.">
			>
			["at0.102"] = <
				text = <"New element">
				description = <"*">
			>
			["at0.103"] = <
				text = <"Pre-challenge">
				description = <"The sample was taken prior to the challenge.">
			>
			["at0.104"] = <
				text = <"Post-challenge">
				description = <"The sample was taken after the challenge.">
			>
			["at0.105"] = <
				text = <"Oral">
				description = <"The glucose was taken orally.">
			>
			["at0.106"] = <
				text = <"Intravenous">
				description = <"The glucose was administered intravenously">
			>
			["at0.107"] = <
				text = <"Insulin challenge">
				description = <"*">
			>
			["at0.108"] = <
				text = <"Event">
				description = <"An event.">
			>
			["at0.109"] = <
				text = <"Event name">
				description = <"A name for the event.">
			>
			["at0.110"] = <
				text = <"Dose">
				description = <"Dose of insulin.">
			>
			["at0.111"] = <
				text = <"Route">
				description = <"The route of administration of the insulin.">
			>
			["at0.112"] = <
				text = <"Intravenous">
				description = <"The insulin was administered intravenously.">
			>
			["at0.113"] = <
				text = <"Subcutaneous">
				description = <"The insulin was administered subcutaneously.">
			>
			["at0.89"] = <
				text = <"Tree">
				description = <"@ internal @">
			>
			["at0.90"] = <
				text = <"Diet">
				description = <"Description of when the patient has eaten.">
			>
			["at0.91"] = <
				text = <"Intake">
				description = <"Description of calorific intake.">
			>
			["at0.92"] = <
				text = <"Fasting">
				description = <"No calorific intake.">
			>
			["at0.93"] = <
				text = <"Post-prandial">
				description = <"After a meal">
			>
			["at0.94"] = <
				text = <"Pre-prandial">
				description = <"Before a meal.">
			>
			["at0.95"] = <
				text = <"Random">
				description = <"Timing is not known.">
			>
			["at0.96"] = <
				text = <"Duration">
				description = <"The timing of the specimen in relation to the intake.">
			>
			["at0.97"] = <
				text = <"Description">
				description = <"Description of the intake.">
			>
			["at0.98"] = <
				text = <"Glucose challenge">
				description = <"Information about a glucose challenge if relevant.">
			>
			["at0.99"] = <
				text = <"Timing">
				description = <"The relationship of the sample to the challenge.">
			>
			["at0000.1"] = <
				text = <"Blood glucose">
				description = <"The concentration of glucose in the blood.
">
			>
			["at0078.1"] = <
				text = <"Blood glucose">
				description = <"Concentration of blood glucose in the sample.">
			>
			["at0078.2"] = <
				text = <"Blood glucose">
				description = <"Concentration of blood glucose in the sample.">
			>
		>
	>
