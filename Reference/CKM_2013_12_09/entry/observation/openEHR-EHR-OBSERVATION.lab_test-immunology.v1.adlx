archetype (adl_version=1.5; generated)
	openEHR-EHR-OBSERVATION.lab_test-immunology.v1.0.0

specialize
	openEHR-EHR-OBSERVATION.lab_test.v1.0.0

language
	original_language = <[ISO_639-1::en]>

description
	original_author = <
		["name"] = <"Dr Ian McNicoll">
		["organisation"] = <"Ocean Informatics, United Kingdom">
		["email"] = <"ian.mcnicoll@oceaninformatics.com">
		["date"] = <"07/11/2009">
	>
	details = <
		["en"] = <
			language = <[ISO_639-1::en]>
			purpose = <"To represent immunology tests where the result is expressed as a titre usually along with a qualitative result e.g. positive, negative.


">
			use = <"Will generally be used in combination with archetypes representing other parts of the laboratory test ordering and processing process.
">
			keywords = <"lab", "pathology", "biochemistry", "immunology", "laboratory", "serology">
			misuse = <"">
			copyright = <"© openEHR Foundation">
		>
	>
	lifecycle_state = <"initial">
	other_contributors = <"Sam Heard, Ocean Informatics, Australia", "Heather Leslie, Ocean Informatics, Australia">
	other_details = <
		["references"] = <"NEHTA, Australia. Pathology Episode v1.0 - Data Group library [Internet]. 2009;[cited 2009 Dec 8 ] Available from: http://www.nehta.gov.au/data-group-library/data-specifications/dgl-pathology

IHE. IHE, Laboratory Technical Framework, Volume 3 Content [Internet]. 2008;Available from: http://www.ihe.net/Technical_Framework/upload/ihe_lab_TF_rel2_1-Vol-3_FT_2008-08-08.pdf




">
		["MD5-CAM-1.0.1"] = <"C876F773375779E2E192D99B596FC5A6">
	>

definition
	OBSERVATION[at0000.1] matches {	-- Immunology titres
		/data[at0001]/events matches {
			EVENT[at0002] occurrences matches {0..1} matches {
				data matches {
					ITEM_TREE[at0003] matches {
						items matches {
							before [at0057]
							CLUSTER[at0.97] occurrences matches {0..*} matches {	-- Immunology result
								items matches {
									ELEMENT[at0078.2] occurrences matches {0..*} matches {	-- Titre
										value matches {
											DV_PROPORTION[id0.389] matches {
												numerator matches {|>=0.0|}
												denominator matches {|>=0.0|}
												is_integral matches {True}
												type matches {0}
											}
										}
									}
									ELEMENT[at0.95] occurrences matches {0..*} matches {	-- Amount
										value matches {
											DV_QUANTITY[id0.613] 
										}
									}
									ELEMENT[at0.96] occurrences matches {0..*} matches {	-- Fluoresence pattern
										value matches {
											DV_CODED_TEXT[id0.13] matches {
												defining_code matches {
													[local::
													at0.98, 	-- Homogenous
													at0.99, 	-- Peripheral
													at0.100, 	-- Speckled
													at0.101]	-- Nucleolar
												}
											}
										}
									}
									ELEMENT[at0078.1] occurrences matches {0..*} matches {	-- Qualitative result
										value matches {
											DV_TEXT[id0.989] 
											DV_CODED_TEXT[id0.990] matches {
												defining_code matches {
													[local::
													at0.90, 	-- Negative
													at0.91, 	-- Weakly positive
													at0.92, 	-- Positive
													at0.93]	-- Strongly positive
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
		/protocol[at0004]/items matches {
			before [at0075]
			CLUSTER[at0013] occurrences matches {0..1} matches {
				items matches {
					ELEMENT[at0062] occurrences matches {0..1} matches {
						value matches {
							DV_TEXT[id0.821] 
						}
					}
					ELEMENT[at0063] occurrences matches {0..1} matches {
						value matches {
							DV_TEXT[id0.221] 
						}
					}
					ELEMENT[at0068] occurrences matches {0..1} matches {
						value matches {
							DV_TEXT[id0.222] 
						}
					}
					allow_archetype CLUSTER[at0017] occurrences matches {0..*} matches {
						include
							archetype_id/value matches {/openEHR-EHR-CLUSTER\.organisation\.v1/}
					}
				}
			}
		}
	}

ontology
	term_definitions = <
		["en"] = <
			["at0.100"] = <
				text = <"Speckled">
				description = <"A speckled pattern of fluorescence.">
			>
			["at0.101"] = <
				text = <"Nucleolar">
				description = <"A nucleolar pattern of fluorescence.">
			>
			["at0.90"] = <
				text = <"Negative">
				description = <"The test is negative.">
			>
			["at0.91"] = <
				text = <"Weakly positive">
				description = <"The test is weekly positive.">
			>
			["at0.92"] = <
				text = <"Positive">
				description = <"The test is positive.">
			>
			["at0.93"] = <
				text = <"Strongly positive">
				description = <"The test is strongly positive.">
			>
			["at0.94"] = <
				text = <"New element">
				description = <"*">
			>
			["at0.95"] = <
				text = <"Amount">
				description = <"The immunology result expressed as an amount e.g 3.0U for Anti-nucealr antibody. The units are highly dependent on particular lab techniques">
			>
			["at0.96"] = <
				text = <"Fluoresence pattern">
				description = <"The fluorescence staining pattern observed.">
			>
			["at0.97"] = <
				text = <"Immunology result">
				description = <"Group of test results relating to a single immunology test.">
			>
			["at0.98"] = <
				text = <"Homogenous">
				description = <"A homogenous pattern of fluorescence.">
			>
			["at0.99"] = <
				text = <"Peripheral">
				description = <"A peripheral pattern of fluorescence.">
			>
			["at0000.1"] = <
				text = <"Immunology titres">
				description = <"To represent immunology tests where the result is expressed as a titre usually along with a qualitiative result e.g. positive, negative">
			>
			["at0078.1"] = <
				text = <"Qualitative result">
				description = <"The qualitative result of the test.">
			>
			["at0078.2"] = <
				text = <"Titre">
				description = <"The test result, expressed as a titre e.g. 1:450">
			>
		>
	>
